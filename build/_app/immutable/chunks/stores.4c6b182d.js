import{w}from"./index.d7b80357.js";import{af as P}from"./index.c9a95828.js";const i={};function S(e){return e==="local"?localStorage:sessionStorage}function c(e,r,s){const o=(s==null?void 0:s.serializer)??JSON,m=(s==null?void 0:s.storage)??"local";function f(n,l){S(m).setItem(n,o.stringify(l))}if(!i[e]){const n=w(r,t=>{const a=S(m).getItem(e);a&&t(o.parse(a));{const g=d=>{d.key===e&&t(d.newValue?o.parse(d.newValue):null)};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)}}),{subscribe:l,set:u}=n;i[e]={set(t){f(e,t),u(t)},update(t){const a=t(P(n));f(e,a),u(a)},subscribe:l}}return i[e]}const h=c("modeOsPrefers",!1),M=c("modeUserPrefers",void 0),L=c("modeCurrent",!1);function C(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return h.set(e),e}function v(e){M.set(e)}function E(e){const r=document.documentElement.classList,s="dark";e===!0?r.remove(s):r.add(s),L.set(e)}function b(){const e=document.documentElement.classList,r=localStorage.getItem("modeUserPrefers")==="false",s=!("modeUserPrefers"in localStorage),o=window.matchMedia("(prefers-color-scheme: dark)").matches;r||s&&o?e.add("dark"):e.remove("dark")}const I=c("settings",{city:{name:"",country:"",longitude:0,latitude:0},units:"Metric"});export{b as a,E as b,v as c,C as g,L as m,I as s};
